{% block body %}

<div class="container"> <div class="card"> <div class="form"> <div class="left-side"> <span></span> 
<span></span> <span></span> <span></span> </div> <div class="right-side">

{% if error %}
<div class="wrapper">
    <div class="toast error">
        <div class="outer-container">
            <i class="fas fa-times-circle"></i>
        </div>
        <div class="inner-container">
            <p>Error</p>
            <p>Error has occured while saving changes.</p>
        </div>
        <button class="close-toast">&times;</button> <!-- Add the class here -->
    </div>
</div>
{% endif %}
<form action="{{ path('security.login') }}" method="post">
    <div class="signin_form s_form ">
        <div class="login">
            <h2>Connexion</h2>
        </div>
        <div class="input_text">
            <input type="email" placeholder="Adresse email" id="email" name="email" value="{{ last_email }}">
            <i class="fa fa-user"></i>
        </div>
        <div class="input_text">
            <input class="signin_pass" type="password" name="mdp" placeholder="Mot de passe" id="signin_type">
            <i class="fa fa-lock"></i>
            <i class="fa fa-eye-slash" id="signin_eye_click"></i> <!-- Bouton pour basculer le mot de passe -->
        </div>
        <div class="login_btn">
            <button type="submit" name="action" value="login" class="login_button">Se connecter</button>
        </div>
        <div class="forgot">
            <p>    <a href="#">Mot de passe oublié ?</a>        </p>
        </div>
       
    </div>
       <div class="create margin">
    <button type="button" id="registration_button">Créer nouveau compte <i class="fa fa-long-arrow-right"></i></button>
</div>
</form>



{% block stylesheets %}
   <link href="{{asset('base/toast.css')}}" rel="stylesheet">
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" rel="stylesheet">
     <link href="{{asset('base/connexion.css')}}" rel="stylesheet">
{% endblock %}


{% block javascripts %}
<script src="{{asset('base/toast.js')}}"></script>
<script src="{{asset('base/connexion.js')}}"></script>
<script>
document.getElementById('signin_eye_click').addEventListener('click', function() {
    var signin_type = document.getElementById('signin_type');
    var signin_eye = document.getElementById('signin_eye_click');
    
    if (signin_type.type === "password") {
        signin_type.type = "text";
        signin_eye.classList.remove('fa-eye-slash');
        signin_eye.classList.add('fa-eye');
    } else {
        signin_type.type = "password";
        signin_eye.classList.add('fa-eye-slash');
        signin_eye.classList.remove('fa-eye');
    }
});
</script>
<script>
    document.getElementById('registration_button').addEventListener('click', function() {
        window.location.href = "{{ path('security.registration') }}";
    });
</script>

{% endblock %}


{% endblock %}
